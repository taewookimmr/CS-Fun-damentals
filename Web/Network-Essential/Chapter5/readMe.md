## Web을 지탱하는 기술

* 하이퍼텍스트의 개념 

    * 다양한 조직이나 개인이 인터넷에 개설한 홈페이지는 WWW 또는 web이라고 불리는 기술!을 사용한다.

    * 하이퍼텍스트에는 문서내에 하이퍼링크라고 불리는, 다른 문서에 대한 참조 정보가 들어 있다. 
    * 하이퍼 링크를 따라가면 여러 개의 문서를 연관 지어서 전체적으로 거대한 정보를 나타낼 수 있다.

    * 이 하이퍼텍스트를 작성하는 데는 HTML등의 전용 기술 언어가 사용

* URL 

    * Web에 존재하는 문서나 각종 파일의 위치를 표시하는 데는 URL, Uniform Resource Locater가 사용된다. 

    * Web의 URL은 scheme, host, path 이렇게 세부분으로 구성되어 있다.

        * scheme :  사용하는 프로토콜의 종류가 지정되어 있다. (http, https, ftp, mailto)
        * host : 접속하는 컴퓨터의 도메인명이나 IP 주소
        * path : 서버 내의 경로를 지정한다.


* 정적 콘텐츠, 동적 콘텐츠

    * 미리 만들어진 것을 보여주는 것, 정적
    * 요청이 올 때마다 (서버의) 프로그램이 동작해서 정보를 만들어 낸다. 검색 결과에 따라 다른 화면을 보여주는 것 


## HTTP 

* Hypertext Transfer Protocol : web 서버와 클라이언트간에 web 정보를 주고받기 위한 프로토콜
* 요청 한 번에 응답 한 번을 되돌려준다는 규칙.
* 같은 요청이면 같은 결과를 뱉어내는 것
* REST API에서 추가적으로 공부

* HTTP + TCP로 주로 사용, UDP와 조합하는 경우는 드물다
* 서버가 HTTP의 통신을 받을 포트는 주로 80번

## 요청과 응답 

* HTTP 요청을 TCP/IP로 서버에 보내면 서버는 이걸 받아서 요청 내용을 처리하고 그 결과를 HTTP 응답으로 보낸다. 

* 요청 : 요청 대상, 헤더 필드, 메시지 본체, 하고자 하는 조작을 요청 대상 메서드로 지정
    * 서버에서 어떤 파일을 받고자 할 때에는 GET을 사용
    
* 응답 : 상태값, 헤더 필드, 메시지 본체, 처리 결과는 상태 코드로 표시된다.
    * 상태 코드가 200이라면 요청은 정상적을 처리된 것임


* example 요청

    1> 요청 : GET /index.htm HTTP/1.1
    2> 헤더 필드(여러 줄 가능) Host: www.sbcr.kr
    3> 빈칸 한 줄만
    4> 메시지 본체, 여러 줄 가능, 생략 가능

* example 응답

    1> 상태코드(한줄) HTTP/1.1 200 OK 
    2> Date : Thu, 1, Jan, 2020 16:10:00 GMT
            Content-Type : text/html
    3> 빈칸 한 줄만
    4> 메시지 본체 여러 줄 가능
    ```
        <!DOCTYPE HTML PUBLIC "~/W3C " http...>
        <html lang="kr">
        <head>
    ``` 

* 주요 상태코드

    |상태코드|의미|
    |---|---|
    |200|정상|
    |401|인증 필요|
    |404|찾을 수 없음|
    |408|요청 시간 초과|
    |500|서버 내부 오류|


### HTTPS, SSL/TLS

* HTTPS 

    * HTTP에서 HTTP에서 통신을 안전하게 보호하기 위한 구조 
    * HTTPS의 포트 번호는 443번이 할당되어 있다.
    * HTTPS는 특정 프로토콜이 정해져 있지 않고 SSL(secure sockets layers)/TLS(transport layer security)라고 불리는 프로토콜이 만들어내는 안전한 연결 방법을 사용하고 이를 기반으로 HTTP 에 따른 통신을 한다. 

    * HTTPS를 사용하지만 HTTP의 요청이나 응답 내용은 암호화되므로 인터넷 어딘가에서 누군가가 이걸 도청하더라도 그 내용을 알 수 없다. 

    * 또한 도중에 누군가가 통신 내용을 변경하여 조작한 사항을 검사할 수 있다. 

    * 접속하고 있는 Web 서버가 진짜인지 여부를 검증하는 기능도 있다.

* SSL/TLS 

    * 대상의 특정 (인증)이나 암호키(key) 교환, 정보의 암호화에 사용하는 각 알고리즘을 여러 개 중에서 선택한다. 

    * 이 중 어떤 알고리즘을 사용하는가는 통신의 초기 단계에서 서버와 클라이언트가 서로 대화하여 상호 공통으로 대응할 수 있는 것을 선택한다. 이를 negotiation이라고 한다. 

    * HTTP와 TCP 사이에 SSL/TLS가 있다 세션층에 있다는 것 


* SMTP

    * Simple Mail Transfer Protocol
    * HTTP처럼 요청 한 번에 응답 한 번을 되돌려주고 끝내는 것이 아니라, 연결하고 있는 동안 여러 번 명령과 응답을 교환한다. 
    * 응답으로 숫자 세 자리의 응답 코드로 결과를 표시하고 보통 그 뒤에 사람이 읽을 수 있는 영문자 메시지가 이어진다.

* POP3, IMAP4

    * 인터넷의 전자 메일은 SMTP로 수신처 메일 주소의 메일함이 있는 서버까지 전송되고, 메일함 내에 보존된다.
    * 보존된 메일을 읽는 데는 POP3나 IMAP4를 사용한다

    * POP3 
        * 메일을 pc에 두는 형태
        * 서버상의 메일함은 기본적으로 메일을 읽으면 비워진다.
        * 메일을 PC에 넣어버리므로 동일한 메일을 스마트폰에서도 읽고 싶은 사람에게는 맞지 않다. 
        * TCP와 조합해서 아용하며 포트번호는 110번이 할당되어 있다.

    * IMAP4 
        * 메일을 메일함에 두는 형태
        * 메일을 서버상의 메일함에 둔 상태에서 정리나 열람을 하는 형태
        * 반드시 네트워크에 연결되어 있어야 한다. 
        * 메일을 보존하는 서버와 접속할 수만 있다면 어떤 단말에서도 동일한 메일을 읽을 수 있다는 점 
        * TCP와 조합해서 사용하며 포트번호는 143번을 사용한다.
      
* FTP 

    * File Transfer Protocol 
    * HTTP도 이 녀석과 동일한 역할을 할 수 있는 경우가 많으므로 FTP가 등장할 기회가 줄어들고 있지만, HTTP에는 없는 특징이 있어서 아직 사용되고 있다. 

    * 일반적으로 TCP와 같이 사용하며, 전송 제어를 하는 데는 21번 포트, 데이터 전송을 위해서는 20번 포트를 사용한다.
    * 할당된 포트번호가 두 개인 이유는 FTP가 동시에 두 개의 접속 방식을 사용하기 때문


* SSH 
    
    * 서버나 네트워크 기기에 접속해서 대상을 CLI로 조작하는 데 사용하는 프로토콜 및 그걸 하기 위한 프로그램의 명칭
    * TCP와 같이 사용하며 포트는 22번을 사용한다.
    * 교환시 암호화되어 있으므로 안전하게 대상을 조작할 수있다는 점

    * SSH는 조작 대상에 대한 로그인 방법으로 ID와 암호를 입력하는 전통적인 방법 외에 공개 키 인증이라고 불리는 보다 안전한 방법을 지원한다. 

    * 로그인하는 데 반드시 비밀 키가 필요하므로 기계적인 방식으로 맞춰보고 돌파할 우려가 없다.
    * 또한 비밀 키에 패스 프레이즈를 설정해두면 키를 갖고 있다는 것과 패스 프레이즈를 알고 있다는 사실, 이 두가지를 만족하지 못하면 로그인할 수 없으므로 보다 안전해진다.

    * 공개키 관련해서 나만의 자료를 만들자, 어디서 뭘 몇 번이건 들어고 내가 남을 위해 설명할 발표 자료(뇌에 잘 정리되어 있든지, 아니면 서류로 정리되어 있던지)를 갖고 있어야 한다.

